<style>
  table {
    margin-left: 10px;
  }
  table tr:first-child td:first-child {
    width: 300px;
  }
  table td:nth-child(2) {
    text-align: center;
  }
</style>

<!-- tools -->
<%
  let tableFlag = false;
  function isObject(data) {
    return Object.prototype.toString.call(data) === '[object Object]'
  }
  function buildTitle(content, tag) {
    return `<h${ tag } style='margin-left: ${( tag - 2 ) * 20}px'>${ content }</h${ tag }>`
  }
  function buildLink(name, data) {
    return `
      <td>
        <a href='${data[ 0 ]}'>${name}</a>
      </td>
      <td>
        <p>${data[ 1 ]}</p>
      </td>
    `.trim()
  }
%>

<!-- content -->
<% (function renderView(data, index = 2) {
  for (const item in data) {
    if (isObject(data[ item ])) {
      if (tableFlag) {
        // 渲染table end 标签
        tableFlag = false %>
</tbody>
</table>
      <% } %>
<%- buildTitle(item, index)  %>
    <% 
    renderView(data[ item ], index + 1);
  } else { 
    // 渲染table start 标签
    if (!tableFlag) {
      tableFlag = true %>
<table>
<tbody>
<thead>
  <th>topic</th>
  <th>update</th>
</thead>
    <% } %>
<tr>
  <%- buildLink(item, data[ item ]) %>
</tr>
    <% } %>
  <% } %>
<% })(data)

// 函数执行完毕需要检测是否闭合table标签
if (tableFlag) {
%>
</tbody>
</table>
<% } %>