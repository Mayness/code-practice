<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>
  <body>
    <script>
      var numberOfArrays = function(s, k) {
        const dp = new Array(s.length + 1).fill(0);
        dp[ 0 ] = 1;
        const validIdx = [ 0 ];
        let lastValidIndex = null;
        for (let i = 1; i <= s.length; i++) {
          let sum = 0;
          if (i >1 && s[ i ] === '0' && dp[ i - 1 ] === 0) {
            dp[ i ] = 0;
            continue;
          }
          for (let item of validIdx) {
            const char = s.substring(item, i);
            if (char >= 1 && char <= k) {
              sum += (dp[ item ] % (Math.pow(10, 9) + 7));
            } else {
              console.log(111);
              break;
            }
          }
          dp[ i ] = sum % (Math.pow(10, 9) + 7);
          if (s[ i ] !== '0') {
            validIdx.unshift(i);
          }
        }
        return dp[ dp.length - 1 ];
      };
      console.log(numberOfArrays('10', 2));
      // 1
    </script>
  </body>
</html>
