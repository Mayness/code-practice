<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>
  <body>
    <script>
      /*
      给定一个只包含数字的字符串，复原它并返回所有可能的 IP 地址格式。
      示例:

      ```
      输入: "25525511135"
      输出: ["255.255.11.135", "255.255.111.35"]
      ```

      每个以逗号分隔的格式为 0-9、10-99、100-199、200-255  
      */
      var restoreIpAddresses = function(s) {
        if (!s.length) return [];
        const res = [];
        (function isMatch(str, array) {
          if (str === '') res.push(array.join('.'));
          const num = 3 - array.length;
          let currReg = [];
          const len = str.length;
          if (len <= (num + 1) * 3 && len >= num + 3) {
            currReg.push(/^1\d{2}/, /^2[0-4]\d/, /^25[0-5]/);
          }
          if (len <= num * 3 + 2 && len >= num + 2) {
            currReg.push(/^[1-9]\d/);
          }
          if (len <= num * 3 + 1 && len >= num + 1) {
            currReg.push(/^\d/);
          }
          for (let i = 0; i < currReg.length; i++) {
            const matchStr = str.match(currReg[i]);
            if (matchStr) {
              const currArray = array.slice(0);
              currArray.push(matchStr[0]);
              isMatch(str.replace(currReg[i], ''), currArray);
            } else {
              continue;
            }
          }
        })(s, []);
        return res;
      };
      restoreIpAddresses('25525511135');
    </script>
  </body>
</html>
