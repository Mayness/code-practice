<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>
  <body>
    <script>
      /*
        我们用一个变量去来记录迄今为止发现的最大正方形的边长，以及用一个变量记录当前正方形的大小，两个变量都初始化为 0；
        从矩阵的左上角开始搜索 1，找到 0 不需要做任何操作，只要找到 1 我们就试图找到由 1 组成的最大正方形；
        为此我们向右和向下移动，临时增加列索引和行索引，然后用标志标记该行列是否全都为 1；
        如果全都为 1，则继续检索行列，如果找到 0，便停止移动，更新最大正方形的边长。然后从最初发现 1 的元素旁边遍历矩阵，直到矩阵的所有元素都被遍历。
      */
      var maximalSquare = function(matrix) {
        const rows = matrix.length;
        const cols = matrix[0] ? matrix[0].length : 0;
        let max = 0;
        for (let i = 0; i < rows; i++) {
          for (let j = 0; j < cols; j++) {
            if (matrix[i][j] === '0') continue;
            let item = 1;
            let flag = true;
            while (i + item < rows && j + item < cols) {
              for (let k = i; k <= i + item; k++) {
                if (matrix[k][j + item] === '0') {
                  flag = false;
                }
              }
              for (let k = j; k <= j + item; k++) {
                if (matrix[i + item][k] === '0') {
                  flag = false;
                }
              }
              if (flag) {
                item++
              } else {
                break;
              };
            }
            max = Math.max(item, max);
          }
        }
        return Math.pow(max, 2);
      };
      const res = maximalSquare([["1","0","1","0","0"],["1","0","1","1","1"],["1","1","1","1","1"],["1","0","0","1","0"]]);
      console.log(res);
    </script>
  </body>
</html>
