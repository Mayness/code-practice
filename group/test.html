<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>
  <body>
    <script>
      /*
      给定一个包含 n 个整数的数组 nums，
      判断 nums 中是否存在三个元素 a，b，c ，
      使得 a + b + c = 0 ？找出所有满足条件且不重复的三元组。

      注意：答案中不可以包含重复的三元组。

      例如, 给定数组 nums = [-1, 0, 1, 2, -1, -4]，

      满足要求的三元组集合为：

      ```
      [
        [-1, 0, 1],
        [-1, -1, 2]
      ]
      ```
      -2 1 1
      2
    */

      var threeSum = function(nums) {
        if (nums.length < 3) return [];
        let result = [];
        const array = nums.sort((a, b) => a - b);
        for (let i = 0; i < array.length - 2; i++) {
          if (array[ i ] > 0) break;
          // 如果和i-1相同则代表该数字已经计算过了
          if (i > 0 && nums[i] === nums[i - 1]) continue;
          for (let j = i + 1, k = array.length - 1; j < k;) {
            if (array[ k ] < 0) break;
            const res = array[ i ] + array[ j ] + array[ k ];
            if (res === 0) {
              result.push([ array[ i ], array[ j ], array[ k ] ]);
              j++;
              k--;
              // 同理：若上一个值相等，那么证明该值已经计算过了
              while(array[ j ] === array[ j-1 ]) j++;
              while(array[ k ] === array[ k+1 ]) k--;
            } else if (res > 0) {
              j++;
            } else {
              k--;
            }
          }
        }
        return result;
      };
      console.log(threeSum([-2, -1, -1, 0, 2]));
      // -4 -1 -1 0 1 2
    </script>
  </body>
</html>
